{"ast":null,"code":"import _regeneratorRuntime from\"/Users/derek/Desktop/project/JoinMe-fe-DerekLarm/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/derek/Desktop/project/JoinMe-fe-DerekLarm/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/derek/Desktop/project/JoinMe-fe-DerekLarm/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Form,Button}from\"react-bootstrap\";import Rheostat from\"rheostat\";import moment from\"moment\";export default function EventForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(props.streetAddress),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];// eslint-disable-next-line\nvar _useState7=useState(props.day),_useState8=_slicedToArray(_useState7,2),newDay=_useState8[0],setNewDay=_useState8[1];var time=props.day;// RHEOSTAT INPUT\nvar _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),startTime=_useState10[0],setStartTime=_useState10[1];var _useState11=useState(24),_useState12=_slicedToArray(_useState11,2),endTime=_useState12[0],setEndTime=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),tempStartTime=_useState14[0],setTempStartTime=_useState14[1];var _useState15=useState(24),_useState16=_slicedToArray(_useState15,2),tempEndTime=_useState16[0],setTempEndTime=_useState16[1];var createEvent=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var lat,lng,date,eventData,newEvent,data,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:lat=props.lat;lng=props.lng;date=moment(time).format(\"dddd\")+' '+moment(time).format(\"MMM Do YYYY\");e.preventDefault();eventData={name:props.user.name,title:title,description:description,startTime:startTime,endTime:endTime,lat:lat,lng:lng,time:new Date(),date:date,address:address,rawDate:time,creatorID:props.user._id,apiDate:props.apiDate};console.log(eventData);// eslint-disable-next-line\n_context.next=8;return fetch(\"http://localhost:5000/event\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(eventData)});case 8:newEvent=_context.sent;_context.next=11;return fetch(\"http://localhost:5000/event/\".concat(props.apiDate));case 11:data=_context.sent;_context.next=14;return data.json();case 14:resp=_context.sent;props.setCoordinates(resp);console.log(\"resp\",resp);props.handleClose();case 18:case\"end\":return _context.stop();}}},_callee);}));return function createEvent(_x){return _ref.apply(this,arguments);};}();var cancelFunc=function cancelFunc(){props.handleClose();};var handleChange=function handleChange(e){setStartTime(e.values[0]);setEndTime(e.values[1]);};var handleValuesUpdated=function handleValuesUpdated(e){setTempStartTime(e.values[0]);setTempEndTime(e.values[1]);};useEffect(function(){setAddress(props.streetAddress);setNewDay(props.day);},[props.streetAddress,props.day]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Form,{onSubmit:createEvent},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"title\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Title\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Description\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:\"3\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(\"div\",{style:{fontWeight:\"bold\"}},\"Date:\"),/*#__PURE__*/React.createElement(\"div\",null,\"\".concat(moment(time).format(\"dddd\"),\", \").concat(moment(time).format(\"MMM Do YYYY\")))),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"startEndTime\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Start/End Time\"),/*#__PURE__*/React.createElement(Rheostat,{min:0,max:24,values:[startTime,endTime],onChange:handleChange,onValuesUpdated:handleValuesUpdated})),/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row textCenter\",style:{paddingBottom:\"10px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Start: \",tempStartTime,\":00\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"End: \",tempEndTime,\":00\")),\" \"),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"address\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",value:address,onChange:function onChange(e){return setAddress(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row textCenter\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",onClick:function onClick(){return cancelFunc();}},\"Cancel\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"JoinMe!\")))));}","map":{"version":3,"sources":["/Users/derek/Desktop/project/JoinMe-fe-DerekLarm/my-app/src/components/EventForm.js"],"names":["React","useState","useEffect","Form","Button","Rheostat","moment","EventForm","props","title","setTitle","description","setDescription","streetAddress","address","setAddress","day","newDay","setNewDay","time","startTime","setStartTime","endTime","setEndTime","tempStartTime","setTempStartTime","tempEndTime","setTempEndTime","createEvent","e","lat","lng","date","format","preventDefault","eventData","name","user","Date","rawDate","creatorID","_id","apiDate","console","log","fetch","method","headers","body","JSON","stringify","newEvent","data","json","resp","setCoordinates","handleClose","cancelFunc","handleChange","values","handleValuesUpdated","target","value","fontWeight","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport Rheostat from \"rheostat\";\nimport moment from \"moment\";\n\nexport default function EventForm(props) {\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [address, setAddress] = useState(props.streetAddress);\n  // eslint-disable-next-line\n  const [newDay, setNewDay] = useState(props.day);\n  const time = props.day;\n  // RHEOSTAT INPUT\n  const [startTime, setStartTime] = useState(0);\n  const [endTime, setEndTime] = useState(24);\n  const [tempStartTime, setTempStartTime] = useState(0);\n  const [tempEndTime, setTempEndTime] = useState(24);\n\n  const createEvent = async (e) => {\n    const lat = props.lat;\n    const lng = props.lng;\n    const date = (moment(time).format(\"dddd\") + ' ' + moment(time).format(\n      \"MMM Do YYYY\"\n    ))\n    e.preventDefault();\n    const eventData = {\n      name: props.user.name,\n      title,\n      description,\n      startTime,\n      endTime,\n      lat,\n      lng,\n      time: new Date(),\n      date: date,\n      address: address,\n      rawDate: time,\n      creatorID: props.user._id,\n      apiDate: props.apiDate,\n    };\n    console.log(eventData);\n    // eslint-disable-next-line\n    const newEvent = await fetch(\"http://localhost:5000/event\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(eventData),\n    });\n    const data = await fetch(`http://localhost:5000/event/${props.apiDate}`);\n    const resp = await data.json();\n    props.setCoordinates(resp);\n    console.log(\"resp\", resp);\n    props.handleClose();\n  };\n\n  const cancelFunc = () => {\n    props.handleClose();\n  };\n\n  const handleChange = (e) => {\n    setStartTime(e.values[0]);\n    setEndTime(e.values[1]);\n  };\n  const handleValuesUpdated = (e) => {\n    setTempStartTime(e.values[0]);\n    setTempEndTime(e.values[1]);\n  };\n\n  useEffect(() => {\n    setAddress(props.streetAddress);\n    setNewDay(props.day);\n  }, [props.streetAddress, props.day]);\n\n  return (\n    <div>\n      <Form onSubmit={createEvent}>\n        <Form.Group controlId=\"title\">\n          <Form.Label>Title</Form.Label>\n          <Form.Control\n            type=\"text\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"description\">\n          <Form.Label>Description</Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows=\"3\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group>\n          <div style={{ fontWeight: \"bold\" }}>Date:</div>\n          <div>\n            {`${moment(time).format(\"dddd\")}, ${moment(time).format(\n              \"MMM Do YYYY\"\n            )}`}\n          </div>\n        </Form.Group>\n\n        <Form.Group controlId=\"startEndTime\">\n          <Form.Label>Start/End Time</Form.Label>\n          <Rheostat\n            min={0}\n            max={24}\n            values={[startTime, endTime]}\n            onChange={handleChange}\n            onValuesUpdated={handleValuesUpdated}\n          />\n        </Form.Group>\n        <Form.Group>\n          <div className=\"row textCenter\" style={{ paddingBottom: \"10px\" }}>\n            <div className=\"col-6\">Start: {tempStartTime}:00</div>\n            <div className=\"col-6\">End: {tempEndTime}:00</div>\n          </div>{\" \"}\n        </Form.Group>\n\n        <Form.Group controlId=\"address\">\n          <Form.Label>Address</Form.Label>\n          <Form.Control\n            type=\"text\"\n            value={address}\n            onChange={(e) => setAddress(e.target.value)}\n          />\n        </Form.Group>\n\n        <div className=\"row textCenter\">\n          <div className=\"col-6\">\n            <Button variant=\"secondary\" onClick={() => cancelFunc()}>\n              Cancel\n            </Button>\n          </div>\n          <div className=\"col-6\">\n            <Button variant=\"primary\" type=\"submit\">\n              JoinMe!\n            </Button>\n          </div>\n        </div>\n      </Form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}