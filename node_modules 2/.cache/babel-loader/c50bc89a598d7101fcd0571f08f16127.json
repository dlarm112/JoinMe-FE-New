{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _reactWithStyles = require(\"react-with-styles\");\n\nvar _reactWithDirection = _interopRequireWildcard(require(\"react-with-direction\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _airbnbPropTypes = require(\"airbnb-prop-types\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _linear = _interopRequireDefault(require(\"./algorithms/linear\"));\n\nvar _DefaultHandle = _interopRequireDefault(require(\"./DefaultHandle\"));\n\nvar _DefaultProgressBar = _interopRequireDefault(require(\"./DefaultProgressBar\"));\n\nvar _DefaultBackground = _interopRequireDefault(require(\"./DefaultBackground\"));\n\nvar _OrientationPropType = _interopRequireDefault(require(\"./propTypes/OrientationPropType\"));\n\nvar _SliderConstants = require(\"./constants/SliderConstants\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number);\n\nvar PropTypeReactComponent = _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute('data-handle-key'));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar propTypes = (0, _airbnbPropTypes.forbidExtraProps)(_objectSpread({}, _reactWithDirection.withDirectionPropTypes, {}, _reactWithStyles.withStylesPropTypes, {\n  // Automatically adds a top position for large when enabled\n  autoAdjustVerticalPosition: _propTypes[\"default\"].bool,\n  // the algorithm to use\n  algorithm: _propTypes[\"default\"].shape({\n    getValue: _propTypes[\"default\"].func,\n    getPosition: _propTypes[\"default\"].func\n  }),\n  background: PropTypeReactComponent,\n  // any children you pass in\n  children: _propTypes[\"default\"].node,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes[\"default\"].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes[\"default\"].number,\n  // the minimum possible value\n  min: _propTypes[\"default\"].number,\n  // called on click\n  onClick: _propTypes[\"default\"].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes[\"default\"].func,\n  // called on key press\n  onKeyPress: _propTypes[\"default\"].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes[\"default\"].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes[\"default\"].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes[\"default\"].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes[\"default\"].func,\n  // the orientation\n  orientation: _OrientationPropType[\"default\"],\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes[\"default\"].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // whether a proposed update is valid\n  getNextHandlePosition: _propTypes[\"default\"].func,\n  // the values\n  values: PropTypeArrOfNumber\n}));\nvar defaultProps = {\n  autoAdjustVerticalPosition: false,\n  children: null,\n  algorithm: _linear[\"default\"],\n  disabled: false,\n  getNextHandlePosition: null,\n  max: _SliderConstants.PERCENT_FULL,\n  min: _SliderConstants.PERCENT_EMPTY,\n  onClick: null,\n  onChange: null,\n  onKeyPress: null,\n  onSliderDragEnd: null,\n  onSliderDragMove: null,\n  onSliderDragStart: null,\n  onValuesUpdated: null,\n  orientation: _SliderConstants.HORIZONTAL,\n  pitComponent: null,\n  pitPoints: [],\n  snap: false,\n  snapPoints: [],\n  background: _DefaultBackground[\"default\"],\n  handle: _DefaultHandle[\"default\"],\n  progressBar: _DefaultProgressBar[\"default\"],\n  values: [_SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(Rheostat, _React$Component);\n\n  function Rheostat(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    var _this$props = _this.props,\n        algorithm = _this$props.algorithm,\n        max = _this$props.max,\n        min = _this$props.min,\n        values = _this$props.values;\n    _this.state = {\n      handlePos: values.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      slidingIndex: null,\n      values: values\n    };\n    _this.getPublicState = _this.getPublicState.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getSliderBoundingBox = _this.getSliderBoundingBox.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getProgressStyle = _this.getProgressStyle.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getMinValue = _this.getMinValue.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getMaxValue = _this.getMaxValue.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getHandleDimensions = _this.getHandleDimensions.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getClosestSnapPoint = _this.getClosestSnapPoint.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getSnapPosition = _this.getSnapPosition.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getNextPositionForKey = _this.getNextPositionForKey.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getNextState = _this.getNextState.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getClosestHandle = _this.getClosestHandle.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setStartSlide = _this.setStartSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.startMouseSlide = _this.startMouseSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.startTouchSlide = _this.startTouchSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleMouseSlide = _this.handleMouseSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTouchSlide = _this.handleTouchSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSlide = _this.handleSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.endSlide = _this.endSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeydown = _this.handleKeydown.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.validatePosition = _this.validatePosition.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.validateValues = _this.validateValues.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.canMove = _this.canMove.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.fireChangeEvent = _this.fireChangeEvent.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.slideTo = _this.slideTo.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.updateNewValues = _this.updateNewValues.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setRef = _this.setRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setHandleNode = _this.setHandleNode.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setHandleContainerNode = _this.setHandleContainerNode.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.positionPercent = _this.positionPercent.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.invalidatePitStyleCache = _this.invalidatePitStyleCache.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.pitStyleCache = {};\n    return _this;\n  }\n\n  var _proto = Rheostat.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this; // Note: This occurs in a timeout because styles need to be applied first\n\n\n    this.handleDimensionsTimeout = setTimeout(function () {\n      _this2.handleDimensionsTimeout = null;\n\n      _this2.setState({\n        handleDimensions: _this2.getHandleDimensions()\n      });\n    }, 0);\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var _this$props2 = this.props,\n        disabled = _this$props2.disabled,\n        min = _this$props2.min,\n        max = _this$props2.max,\n        orientation = _this$props2.orientation,\n        pitPoints = _this$props2.pitPoints,\n        algorithm = _this$props2.algorithm;\n    var _this$state = this.state,\n        values = _this$state.values,\n        slidingIndex = _this$state.slidingIndex;\n    var minMaxChanged = nextProps.min !== min || nextProps.max !== max;\n    var valuesChanged = values.length !== nextProps.values.length || values.some(function (value, idx) {\n      return nextProps.values[idx] !== value;\n    });\n    var orientationChanged = nextProps.orientation !== orientation;\n    var algorithmChanged = nextProps.algorithm !== algorithm;\n    var pitPointsChanged = nextProps.pitPoints !== pitPoints;\n    var willBeDisabled = nextProps.disabled && !disabled;\n    if (minMaxChanged || valuesChanged) this.updateNewValues(nextProps);\n\n    if (willBeDisabled && slidingIndex !== null) {\n      this.endSlide();\n    }\n\n    if (minMaxChanged || pitPointsChanged || orientationChanged || algorithmChanged) {\n      this.invalidatePitStyleCache();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleDimensionsTimeout) {\n      clearTimeout(this.handleDimensionsTimeout);\n      this.handleDimensionsTimeout = null;\n    }\n  };\n\n  _proto.getPublicState = function getPublicState() {\n    var values = this.state.values;\n    var _this$props3 = this.props,\n        min = _this$props3.min,\n        max = _this$props3.max;\n    return {\n      max: max,\n      min: min,\n      values: values\n    };\n  };\n\n  _proto.getSliderBoundingBox = function getSliderBoundingBox() {\n    if (!this.handleContainerNode) {\n      return null;\n    }\n\n    var rect = this.handleContainerNode.getBoundingClientRect();\n    return {\n      height: rect.height || this.handleContainerNode.clientHeight,\n      left: rect.left,\n      right: rect.right,\n      top: rect.top,\n      width: rect.width || this.handleContainerNode.clientWidth\n    };\n  };\n\n  _proto.getProgressStyle = function getProgressStyle(idx) {\n    var orientation = this.props.orientation;\n    var handlePos = this.state.handlePos;\n    var value = handlePos[idx];\n\n    if (idx === 0) {\n      return orientation === _SliderConstants.VERTICAL ? {\n        height: \"\".concat(value, \"%\"),\n        top: 0\n      } : {\n        left: 0,\n        width: \"\".concat(value, \"%\")\n      };\n    }\n\n    var prevValue = handlePos[idx - 1];\n    var diffValue = value - prevValue;\n    return orientation === _SliderConstants.VERTICAL ? {\n      height: \"\".concat(diffValue, \"%\"),\n      top: \"\".concat(prevValue, \"%\")\n    } : {\n      left: \"\".concat(prevValue, \"%\"),\n      width: \"\".concat(diffValue, \"%\")\n    };\n  };\n\n  _proto.getMinValue = function getMinValue(idx) {\n    var min = this.props.min;\n    var values = this.state.values;\n    return values[idx - 1] ? Math.max(min, values[idx - 1]) : min;\n  };\n\n  _proto.getMaxValue = function getMaxValue(idx) {\n    var max = this.props.max;\n    var values = this.state.values;\n    return values[idx + 1] ? Math.min(max, values[idx + 1]) : max;\n  };\n\n  _proto.getClosestSnapPoint = function getClosestSnapPoint(value) {\n    var snapPoints = this.props.snapPoints;\n    if (!snapPoints.length) return value;\n    return snapPoints.reduce(function (snapTo, snap) {\n      return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n    });\n  };\n\n  _proto.getHandleDimensions = function getHandleDimensions() {\n    var orientation = this.props.orientation;\n    if (!this.handleNode) return 0;\n    return orientation === _SliderConstants.VERTICAL ? this.handleNode.clientHeight : this.handleNode.clientWidth;\n  };\n\n  _proto.getSnapPosition = function getSnapPosition(positionPercent) {\n    var _this$props4 = this.props,\n        algorithm = _this$props4.algorithm,\n        max = _this$props4.max,\n        min = _this$props4.min,\n        snap = _this$props4.snap;\n    if (!snap) return positionPercent;\n    var value = algorithm.getValue(positionPercent, min, max);\n    var snapValue = this.getClosestSnapPoint(value);\n    return algorithm.getPosition(snapValue, min, max);\n  };\n\n  _proto.getNextPositionForKey = function getNextPositionForKey(idx, keyCode) {\n    var _stepMultiplier;\n\n    var _this$state2 = this.state,\n        handlePos = _this$state2.handlePos,\n        values = _this$state2.values;\n    var _this$props5 = this.props,\n        algorithm = _this$props5.algorithm,\n        max = _this$props5.max,\n        min = _this$props5.min,\n        snapPoints = _this$props5.snapPoints,\n        shouldSnap = _this$props5.snap;\n    var proposedValue = values[idx];\n    var proposedPercentage = handlePos[idx];\n    var originalPercentage = proposedPercentage;\n    var stepValue = 1;\n\n    if (max >= 100) {\n      proposedPercentage = Math.round(proposedPercentage);\n    } else {\n      stepValue = 100 / (max - min);\n    }\n\n    var currentIndex = null;\n\n    if (shouldSnap) {\n      currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n    }\n\n    var stepMultiplier = (_stepMultiplier = {}, (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.LEFT, function (v) {\n      return v * -1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.RIGHT, function (v) {\n      return v * 1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.UP, function (v) {\n      return v * 1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.DOWN, function (v) {\n      return v * -1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.PAGE_DOWN, function (v) {\n      return v > 1 ? -v : v * -10;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.PAGE_UP, function (v) {\n      return v > 1 ? v : v * 10;\n    }), _stepMultiplier);\n\n    if (has.call(stepMultiplier, keyCode)) {\n      proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n      if (shouldSnap) {\n        if (proposedPercentage > originalPercentage) {\n          // move cursor right unless overflow\n          if (currentIndex < snapPoints.length - 1) {\n            proposedValue = snapPoints[currentIndex + 1];\n          } // move cursor left unless there is overflow\n\n        } else if (currentIndex > 0) {\n          proposedValue = snapPoints[currentIndex - 1];\n        }\n      }\n    } else if (keyCode === _SliderConstants.KEYS.HOME) {\n      proposedPercentage = _SliderConstants.PERCENT_EMPTY;\n\n      if (shouldSnap) {\n        var _snapPoints = (0, _slicedToArray2[\"default\"])(snapPoints, 1);\n\n        proposedValue = _snapPoints[0];\n      }\n    } else if (keyCode === _SliderConstants.KEYS.END) {\n      proposedPercentage = _SliderConstants.PERCENT_FULL;\n\n      if (shouldSnap) {\n        proposedValue = snapPoints[snapPoints.length - 1];\n      }\n    } else {\n      return null;\n    }\n\n    return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n  };\n\n  _proto.getNextState = function getNextState(idx, proposedPosition) {\n    var handlePos = this.state.handlePos;\n    var _this$props6 = this.props,\n        max = _this$props6.max,\n        min = _this$props6.min,\n        algorithm = _this$props6.algorithm;\n    var actualPosition = this.validatePosition(idx, proposedPosition);\n    var nextHandlePos = handlePos.map(function (pos, index) {\n      return index === idx ? actualPosition : pos;\n    });\n    return {\n      handlePos: nextHandlePos,\n      values: nextHandlePos.map(function (pos) {\n        return algorithm.getValue(pos, min, max);\n      })\n    };\n  };\n\n  _proto.getClosestHandle = function getClosestHandle(positionPercent) {\n    var handlePos = this.state.handlePos;\n    return handlePos.reduce(function (closestIdx, node, idx) {\n      var challenger = Math.abs(handlePos[idx] - positionPercent);\n      var current = Math.abs(handlePos[closestIdx] - positionPercent);\n      return challenger < current ? idx : closestIdx;\n    }, 0);\n  };\n\n  _proto.setHandleNode = function setHandleNode(node) {\n    this.handleNode = node;\n  };\n\n  _proto.setHandleContainerNode = function setHandleContainerNode(node) {\n    this.handleContainerNode = node;\n  };\n\n  _proto.setStartSlide = function setStartSlide(ev) {\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    this.setState({\n      handleDimensions: this.getHandleDimensions(ev, sliderBox),\n      slidingIndex: getHandleFor(ev)\n    });\n  };\n\n  _proto.setRef = function setRef(ref) {\n    this.rheostat = ref;\n  };\n\n  _proto.startMouseSlide = function startMouseSlide(ev) {\n    var onSliderDragStart = this.props.onSliderDragStart;\n    this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n    if (typeof document.addEventListener === 'function') {\n      document.addEventListener('mousemove', this.handleMouseSlide, false);\n      document.addEventListener('mouseup', this.endSlide, false);\n    } else {\n      document.attachEvent('onmousemove', this.handleMouseSlide);\n      document.attachEvent('onmouseup', this.endSlide);\n    }\n\n    if (onSliderDragStart) onSliderDragStart();\n    killEvent(ev);\n  };\n\n  _proto.startTouchSlide = function startTouchSlide(ev) {\n    var onSliderDragStart = this.props.onSliderDragStart;\n    if (ev.changedTouches.length > 1) return;\n    var touch = ev.changedTouches[0];\n    this.setStartSlide(ev, touch.clientX, touch.clientY);\n    document.addEventListener('touchmove', this.handleTouchSlide, false);\n    document.addEventListener('touchend', this.endSlide, false);\n    if (onSliderDragStart) onSliderDragStart();\n    killEvent(ev);\n  };\n\n  _proto.handleMouseSlide = function handleMouseSlide(ev) {\n    var slidingIndex = this.state.slidingIndex;\n    if (slidingIndex === null) return;\n    this.handleSlide(ev.clientX, ev.clientY);\n    killEvent(ev);\n  };\n\n  _proto.handleTouchSlide = function handleTouchSlide(ev) {\n    var slidingIndex = this.state.slidingIndex;\n    if (slidingIndex === null) return;\n\n    if (ev.changedTouches.length > 1) {\n      this.endSlide();\n      return;\n    }\n\n    var touch = ev.changedTouches[0];\n    this.handleSlide(touch.clientX, touch.clientY);\n    killEvent(ev);\n  };\n\n  _proto.positionPercent = function positionPercent(x, y, sliderBox) {\n    var _this$props7 = this.props,\n        orientation = _this$props7.orientation,\n        direction = _this$props7.direction;\n\n    if (orientation === _SliderConstants.VERTICAL) {\n      return (y - sliderBox.top) / sliderBox.height * _SliderConstants.PERCENT_FULL;\n    }\n\n    var horizontalPercentage = (x - sliderBox.left) / sliderBox.width * _SliderConstants.PERCENT_FULL;\n\n    if (direction === _reactWithDirection.DIRECTIONS.RTL) {\n      return 100 - horizontalPercentage;\n    }\n\n    return horizontalPercentage;\n  };\n\n  _proto.handleSlide = function handleSlide(x, y) {\n    var onSliderDragMove = this.props.onSliderDragMove;\n    var idx = this.state.slidingIndex;\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    var positionPercent = this.positionPercent(x, y, sliderBox);\n    this.slideTo(idx, positionPercent);\n\n    if (this.canMove(idx, positionPercent)) {\n      if (onSliderDragMove) onSliderDragMove();\n    }\n  };\n\n  _proto.endSlide = function endSlide() {\n    var _this3 = this;\n\n    var _this$props8 = this.props,\n        onSliderDragEnd = _this$props8.onSliderDragEnd,\n        snap = _this$props8.snap;\n    var _this$state3 = this.state,\n        slidingIndex = _this$state3.slidingIndex,\n        handlePos = _this$state3.handlePos;\n    this.setState({\n      slidingIndex: null\n    });\n\n    if (typeof document.removeEventListener === 'function') {\n      document.removeEventListener('mouseup', this.endSlide, false);\n      document.removeEventListener('touchend', this.endSlide, false);\n      document.removeEventListener('touchmove', this.handleTouchSlide, false);\n      document.removeEventListener('mousemove', this.handleMouseSlide, false);\n    } else {\n      document.detachEvent('onmousemove', this.handleMouseSlide);\n      document.detachEvent('onmouseup', this.endSlide);\n    }\n\n    if (onSliderDragEnd) onSliderDragEnd();\n\n    if (snap) {\n      var positionPercent = this.getSnapPosition(handlePos[slidingIndex]);\n      this.slideTo(slidingIndex, positionPercent, function () {\n        return _this3.fireChangeEvent();\n      });\n    } else {\n      this.fireChangeEvent();\n    }\n  };\n\n  _proto.handleClick = function handleClick(ev) {\n    var _this4 = this;\n\n    if (ev.target.getAttribute('data-handle-key')) {\n      return;\n    }\n\n    var _this$props9 = this.props,\n        onClick = _this$props9.onClick,\n        orientation = _this$props9.orientation; // Calculate the position of the slider on the page so we can determine\n    // the position where you click in relativity.\n\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    var positionDecimal = orientation === _SliderConstants.VERTICAL ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n    var positionPercent = positionDecimal * _SliderConstants.PERCENT_FULL;\n    var handleId = this.getClosestHandle(positionPercent);\n    var validPositionPercent = this.getSnapPosition(positionPercent); // Move the handle there\n\n    this.slideTo(handleId, validPositionPercent, function () {\n      return _this4.fireChangeEvent();\n    });\n    if (onClick) onClick();\n  };\n\n  _proto.handleKeydown = function handleKeydown(ev) {\n    var _this5 = this;\n\n    var onKeyPress = this.props.onKeyPress;\n    var idx = getHandleFor(ev);\n\n    if (ev.keyCode === _SliderConstants.KEYS.ESC) {\n      ev.currentTarget.blur();\n      return;\n    }\n\n    var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n    if (proposedPercentage === null) return;\n\n    if (this.canMove(idx, proposedPercentage)) {\n      this.slideTo(idx, proposedPercentage, function () {\n        return _this5.fireChangeEvent();\n      });\n      if (onKeyPress) onKeyPress();\n    }\n\n    killEvent(ev);\n  } // Apply user adjustments to position\n  ;\n\n  _proto.userAdjustPosition = function userAdjustPosition(idx, proposedPosition) {\n    var getNextHandlePosition = this.props.getNextHandlePosition;\n    var nextPosition = proposedPosition;\n\n    if (getNextHandlePosition) {\n      nextPosition = parseFloat(getNextHandlePosition(idx, proposedPosition));\n\n      if (Number.isNaN(nextPosition) || nextPosition < _SliderConstants.PERCENT_EMPTY || nextPosition > _SliderConstants.PERCENT_FULL) {\n        throw new TypeError('getNextHandlePosition returned invalid position. Valid positions are floats between 0 and 100');\n      }\n    }\n\n    return nextPosition;\n  } // Make sure the proposed position respects the bounds and\n  // does not collide with other handles too much.\n  ;\n\n  _proto.validatePosition = function validatePosition(idx, proposedPosition) {\n    var _this$state4 = this.state,\n        handlePos = _this$state4.handlePos,\n        handleDimensions = _this$state4.handleDimensions;\n    var nextPosition = this.userAdjustPosition(idx, proposedPosition);\n    var orientation = this.props.orientation;\n    var sliderBox = this.getSliderBoundingBox();\n    var handlePercentage = orientation === _SliderConstants.VERTICAL ? handleDimensions / sliderBox.height * _SliderConstants.PERCENT_FULL / 2 : handleDimensions / sliderBox.width * _SliderConstants.PERCENT_FULL / 2;\n    return Math.max(Math.min(nextPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handlePercentage : _SliderConstants.PERCENT_FULL // 100% is the highest value\n    ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handlePercentage : _SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n    );\n  };\n\n  _proto.validateValues = function validateValues(proposedValues, props) {\n    var _ref = props || this.props,\n        max = _ref.max,\n        min = _ref.min;\n\n    return proposedValues.map(function (value, idx, values) {\n      var realValue = Math.max(Math.min(value, max), min);\n\n      if (values.length && realValue < values[idx - 1]) {\n        return values[idx - 1];\n      }\n\n      return realValue;\n    });\n  } // Can we move the slider to the given position?\n  ;\n\n  _proto.canMove = function canMove(idx, proposedPosition) {\n    var _this$state5 = this.state,\n        handlePos = _this$state5.handlePos,\n        handleDimensions = _this$state5.handleDimensions;\n    var orientation = this.props.orientation;\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return false;\n    }\n\n    var handlePercentage = orientation === _SliderConstants.VERTICAL ? handleDimensions / sliderBox.height * _SliderConstants.PERCENT_FULL / 2 : handleDimensions / sliderBox.width * _SliderConstants.PERCENT_FULL / 2;\n    if (proposedPosition < _SliderConstants.PERCENT_EMPTY) return false;\n    if (proposedPosition > _SliderConstants.PERCENT_FULL) return false;\n    var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handlePercentage : Infinity;\n    if (proposedPosition > nextHandlePosition) return false;\n    var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handlePercentage : -Infinity;\n    if (proposedPosition < prevHandlePosition) return false;\n    return true;\n  };\n\n  _proto.fireChangeEvent = function fireChangeEvent() {\n    var onChange = this.props.onChange;\n    if (onChange) onChange(this.getPublicState());\n  };\n\n  _proto.slideTo = function slideTo(idx, proposedPosition, onAfterSet) {\n    var _this6 = this;\n\n    var onValuesUpdated = this.props.onValuesUpdated;\n    var nextState = this.getNextState(idx, proposedPosition);\n    this.setState(nextState, function () {\n      if (onValuesUpdated) onValuesUpdated(_this6.getPublicState());\n      if (onAfterSet) onAfterSet();\n    });\n  };\n\n  _proto.updateNewValues = function updateNewValues(nextProps) {\n    var slidingIndex = this.state.slidingIndex; // Don't update while the slider is sliding\n\n    if (slidingIndex !== null) {\n      return;\n    }\n\n    var algorithm = this.props.algorithm;\n    var max = nextProps.max,\n        min = nextProps.min,\n        values = nextProps.values;\n    var nextValues = this.validateValues(values, nextProps);\n    this.setState({\n      handlePos: nextValues.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      values: nextValues\n    });\n  };\n\n  _proto.invalidatePitStyleCache = function invalidatePitStyleCache() {\n    this.pitStyleCache = {};\n  };\n\n  _proto.render = function render() {\n    var _this7 = this;\n\n    var _this$props10 = this.props,\n        css = _this$props10.css,\n        autoAdjustVerticalPosition = _this$props10.autoAdjustVerticalPosition,\n        algorithm = _this$props10.algorithm,\n        children = _this$props10.children,\n        disabled = _this$props10.disabled,\n        Handle = _this$props10.handle,\n        max = _this$props10.max,\n        min = _this$props10.min,\n        orientation = _this$props10.orientation,\n        PitComponent = _this$props10.pitComponent,\n        pitPoints = _this$props10.pitPoints,\n        Background = _this$props10.background,\n        ProgressBar = _this$props10.progressBar,\n        styles = _this$props10.styles;\n    var _this$state6 = this.state,\n        handlePos = _this$state6.handlePos,\n        values = _this$state6.values;\n    return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n      _react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        onClick: disabled ? undefined : this.handleClick\n      }, css(styles.rheostat, autoAdjustVerticalPosition && styles.autoAdjustVerticalPosition, orientation === _SliderConstants.VERTICAL && styles.rheostat__vertical)), !!Background && _react[\"default\"].createElement(Background, {\n        orientation: orientation\n      }), _react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        ref: this.setHandleContainerNode\n      }, css(styles.handleContainer)), handlePos.map(function (pos, idx) {\n        var handleStyle = orientation === _SliderConstants.VERTICAL ? {\n          top: \"\".concat(pos, \"%\"),\n          position: 'absolute'\n        } : {\n          left: \"\".concat(pos, \"%\"),\n          position: 'absolute'\n        };\n        return _react[\"default\"].createElement(Handle, {\n          \"aria-valuemax\": _this7.getMaxValue(idx),\n          \"aria-valuemin\": _this7.getMinValue(idx),\n          \"aria-valuenow\": values[idx],\n          \"aria-disabled\": disabled,\n          \"data-handle-key\": idx,\n          key: idx\n          /* eslint-disable-line react/no-array-index-key */\n          ,\n          orientation: orientation,\n          disabled: disabled,\n          onClick: _this7.killEvent,\n          onKeyDown: disabled ? undefined : _this7.handleKeydown,\n          onMouseDown: disabled ? undefined : _this7.startMouseSlide,\n          onTouchStart: disabled ? undefined : _this7.startTouchSlide,\n          handleRef: _this7.setHandleNode,\n          role: \"slider\",\n          style: handleStyle,\n          tabIndex: 0\n        });\n      })), !!ProgressBar && handlePos.map(function (node, idx, arr) {\n        if (idx === 0 && arr.length > 1) {\n          return null;\n        }\n\n        return _react[\"default\"].createElement(ProgressBar, {\n          key: idx\n          /* eslint-disable-line react/no-array-index-key */\n          ,\n          style: _this7.getProgressStyle(idx),\n          disabled: disabled\n        });\n      }), PitComponent && pitPoints.map(function (n) {\n        var pitStyle = _this7.pitStyleCache[n];\n\n        if (!pitStyle) {\n          var pos = algorithm.getPosition(n, min, max);\n          pitStyle = orientation === 'vertical' ? {\n            top: \"\".concat(pos, \"%\"),\n            position: 'absolute'\n          } : {\n            left: \"\".concat(pos, \"%\"),\n            position: 'absolute'\n          };\n          _this7.pitStyleCache[n] = pitStyle;\n        }\n\n        return _react[\"default\"].createElement(PitComponent, {\n          key: n,\n          style: pitStyle\n        }, n);\n      }), children)\n    );\n  };\n\n  return Rheostat;\n}(_react[\"default\"].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\n\nvar _default = (0, _reactWithDirection[\"default\"])((0, _reactWithStyles.withStyles)(function (_ref2) {\n  var _ref2$rheostat = _ref2.rheostat,\n      color = _ref2$rheostat.color,\n      unit = _ref2$rheostat.unit,\n      responsive = _ref2$rheostat.responsive;\n  return {\n    rheostat: {\n      position: 'relative',\n      overflow: 'visible'\n    },\n    autoAdjustVerticalPosition: (0, _defineProperty2[\"default\"])({}, responsive.largeAndAbove, {\n      top: 1.5 * unit\n    }),\n    rheostat__vertical: {\n      height: '100%'\n    },\n    handleContainer: {\n      height: 2 * unit - 1,\n      top: -2,\n      left: -2,\n      bottom: 4,\n      width: '100%',\n      position: 'absolute'\n    },\n    rheostat_background: {\n      backgroundColor: color.white,\n      border: \"1px solid \".concat(color.grey),\n      position: 'relative'\n    },\n    rheostat_background__horizontal: {\n      height: 2 * unit - 1,\n      top: -2,\n      left: -2,\n      bottom: 4,\n      width: '100%'\n    },\n    rheostat_background__vertical: {\n      width: 2 * unit - 1,\n      top: 0,\n      height: '100%'\n    }\n  };\n})(Rheostat));\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["/Users/derek/Desktop/project/JoinMe-fe-DerekLarm/node_modules/rheostat/lib/Slider.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_extends2","_slicedToArray2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","_reactWithStyles","_reactWithDirection","_propTypes","_airbnbPropTypes","_react","_linear","_DefaultHandle","_DefaultProgressBar","_DefaultBackground","_OrientationPropType","_SliderConstants","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","has","prototype","hasOwnProperty","PropTypeArrOfNumber","arrayOf","number","PropTypeReactComponent","oneOfType","func","string","getHandleFor","ev","Number","currentTarget","getAttribute","killEvent","stopPropagation","preventDefault","propTypes","forbidExtraProps","withDirectionPropTypes","withStylesPropTypes","autoAdjustVerticalPosition","bool","algorithm","shape","getValue","getPosition","background","children","node","disabled","handle","max","min","onClick","onChange","onKeyPress","onSliderDragEnd","onSliderDragMove","onSliderDragStart","onValuesUpdated","orientation","pitComponent","pitPoints","progressBar","snap","snapPoints","getNextHandlePosition","values","defaultProps","PERCENT_FULL","PERCENT_EMPTY","HORIZONTAL","Rheostat","_React$Component","props","_this","call","_this$props","state","handlePos","map","handleDimensions","slidingIndex","getPublicState","bind","getSliderBoundingBox","getProgressStyle","getMinValue","getMaxValue","getHandleDimensions","getClosestSnapPoint","getSnapPosition","getNextPositionForKey","getNextState","handleClick","getClosestHandle","setStartSlide","startMouseSlide","startTouchSlide","handleMouseSlide","handleTouchSlide","handleSlide","endSlide","handleKeydown","validatePosition","validateValues","canMove","fireChangeEvent","slideTo","updateNewValues","setRef","setHandleNode","setHandleContainerNode","positionPercent","invalidatePitStyleCache","pitStyleCache","_proto","componentDidMount","_this2","handleDimensionsTimeout","setTimeout","setState","componentWillReceiveProps","nextProps","_this$props2","_this$state","minMaxChanged","valuesChanged","some","idx","orientationChanged","algorithmChanged","pitPointsChanged","willBeDisabled","componentWillUnmount","clearTimeout","_this$props3","handleContainerNode","rect","getBoundingClientRect","height","clientHeight","left","right","top","width","clientWidth","VERTICAL","concat","prevValue","diffValue","Math","reduce","snapTo","abs","handleNode","_this$props4","snapValue","keyCode","_stepMultiplier","_this$state2","_this$props5","shouldSnap","proposedValue","proposedPercentage","originalPercentage","stepValue","round","currentIndex","indexOf","stepMultiplier","KEYS","LEFT","v","RIGHT","UP","DOWN","PAGE_DOWN","PAGE_UP","HOME","_snapPoints","END","proposedPosition","_this$props6","actualPosition","nextHandlePos","pos","index","closestIdx","challenger","current","sliderBox","ref","rheostat","clientX","clientY","document","addEventListener","attachEvent","changedTouches","touch","x","y","_this$props7","direction","horizontalPercentage","DIRECTIONS","RTL","_this3","_this$props8","_this$state3","removeEventListener","detachEvent","_this4","_this$props9","positionDecimal","handleId","validPositionPercent","_this5","ESC","blur","userAdjustPosition","nextPosition","parseFloat","isNaN","TypeError","_this$state4","handlePercentage","undefined","proposedValues","_ref","realValue","_this$state5","nextHandlePosition","Infinity","prevHandlePosition","onAfterSet","_this6","nextState","nextValues","render","_this7","_this$props10","css","Handle","PitComponent","Background","ProgressBar","styles","_this$state6","createElement","rheostat__vertical","handleContainer","handleStyle","position","onKeyDown","onMouseDown","onTouchStart","handleRef","role","style","tabIndex","arr","n","pitStyle","Component","_default","withStyles","_ref2","_ref2$rheostat","color","unit","responsive","overflow","largeAndAbove","bottom","rheostat_background","backgroundColor","white","border","grey","rheostat_background__horizontal","rheostat_background__vertical"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _reactWithStyles = require(\"react-with-styles\");\n\nvar _reactWithDirection = _interopRequireWildcard(require(\"react-with-direction\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _airbnbPropTypes = require(\"airbnb-prop-types\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _linear = _interopRequireDefault(require(\"./algorithms/linear\"));\n\nvar _DefaultHandle = _interopRequireDefault(require(\"./DefaultHandle\"));\n\nvar _DefaultProgressBar = _interopRequireDefault(require(\"./DefaultProgressBar\"));\n\nvar _DefaultBackground = _interopRequireDefault(require(\"./DefaultBackground\"));\n\nvar _OrientationPropType = _interopRequireDefault(require(\"./propTypes/OrientationPropType\"));\n\nvar _SliderConstants = require(\"./constants/SliderConstants\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar PropTypeArrOfNumber = _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number);\n\nvar PropTypeReactComponent = _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].func, _propTypes[\"default\"].string]);\n\nfunction getHandleFor(ev) {\n  return Number(ev.currentTarget.getAttribute('data-handle-key'));\n}\n\nfunction killEvent(ev) {\n  ev.stopPropagation();\n  ev.preventDefault();\n}\n\nvar propTypes = (0, _airbnbPropTypes.forbidExtraProps)(_objectSpread({}, _reactWithDirection.withDirectionPropTypes, {}, _reactWithStyles.withStylesPropTypes, {\n  // Automatically adds a top position for large when enabled\n  autoAdjustVerticalPosition: _propTypes[\"default\"].bool,\n  // the algorithm to use\n  algorithm: _propTypes[\"default\"].shape({\n    getValue: _propTypes[\"default\"].func,\n    getPosition: _propTypes[\"default\"].func\n  }),\n  background: PropTypeReactComponent,\n  // any children you pass in\n  children: _propTypes[\"default\"].node,\n  // prevent the slider from moving when clicked\n  disabled: _propTypes[\"default\"].bool,\n  // a custom handle you can pass in\n  handle: PropTypeReactComponent,\n  // the maximum possible value\n  max: _propTypes[\"default\"].number,\n  // the minimum possible value\n  min: _propTypes[\"default\"].number,\n  // called on click\n  onClick: _propTypes[\"default\"].func,\n  // called whenever the user is done changing values on the slider\n  onChange: _propTypes[\"default\"].func,\n  // called on key press\n  onKeyPress: _propTypes[\"default\"].func,\n  // called when you finish dragging a handle\n  onSliderDragEnd: _propTypes[\"default\"].func,\n  // called every time the slider is dragged and the value changes\n  onSliderDragMove: _propTypes[\"default\"].func,\n  // called when you start dragging a handle\n  onSliderDragStart: _propTypes[\"default\"].func,\n  // called whenever the user is actively changing the values on the slider\n  // (dragging, clicked, keypress)\n  onValuesUpdated: _propTypes[\"default\"].func,\n  // the orientation\n  orientation: _OrientationPropType[\"default\"],\n  // a component for rendering the pits\n  pitComponent: PropTypeReactComponent,\n  // the points that pits are rendered on\n  pitPoints: PropTypeArrOfNumber,\n  // a custom progress bar you can pass in\n  progressBar: PropTypeReactComponent,\n  // should we snap?\n  snap: _propTypes[\"default\"].bool,\n  // the points we should snap to\n  snapPoints: PropTypeArrOfNumber,\n  // whether a proposed update is valid\n  getNextHandlePosition: _propTypes[\"default\"].func,\n  // the values\n  values: PropTypeArrOfNumber\n}));\nvar defaultProps = {\n  autoAdjustVerticalPosition: false,\n  children: null,\n  algorithm: _linear[\"default\"],\n  disabled: false,\n  getNextHandlePosition: null,\n  max: _SliderConstants.PERCENT_FULL,\n  min: _SliderConstants.PERCENT_EMPTY,\n  onClick: null,\n  onChange: null,\n  onKeyPress: null,\n  onSliderDragEnd: null,\n  onSliderDragMove: null,\n  onSliderDragStart: null,\n  onValuesUpdated: null,\n  orientation: _SliderConstants.HORIZONTAL,\n  pitComponent: null,\n  pitPoints: [],\n  snap: false,\n  snapPoints: [],\n  background: _DefaultBackground[\"default\"],\n  handle: _DefaultHandle[\"default\"],\n  progressBar: _DefaultProgressBar[\"default\"],\n  values: [_SliderConstants.PERCENT_EMPTY]\n};\n\nvar Rheostat =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(Rheostat, _React$Component);\n\n  function Rheostat(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    var _this$props = _this.props,\n        algorithm = _this$props.algorithm,\n        max = _this$props.max,\n        min = _this$props.min,\n        values = _this$props.values;\n    _this.state = {\n      handlePos: values.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      handleDimensions: 0,\n      slidingIndex: null,\n      values: values\n    };\n    _this.getPublicState = _this.getPublicState.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getSliderBoundingBox = _this.getSliderBoundingBox.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getProgressStyle = _this.getProgressStyle.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getMinValue = _this.getMinValue.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getMaxValue = _this.getMaxValue.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getHandleDimensions = _this.getHandleDimensions.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getClosestSnapPoint = _this.getClosestSnapPoint.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getSnapPosition = _this.getSnapPosition.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getNextPositionForKey = _this.getNextPositionForKey.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getNextState = _this.getNextState.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getClosestHandle = _this.getClosestHandle.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setStartSlide = _this.setStartSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.startMouseSlide = _this.startMouseSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.startTouchSlide = _this.startTouchSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleMouseSlide = _this.handleMouseSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTouchSlide = _this.handleTouchSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSlide = _this.handleSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.endSlide = _this.endSlide.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeydown = _this.handleKeydown.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.validatePosition = _this.validatePosition.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.validateValues = _this.validateValues.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.canMove = _this.canMove.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.fireChangeEvent = _this.fireChangeEvent.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.slideTo = _this.slideTo.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.updateNewValues = _this.updateNewValues.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setRef = _this.setRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setHandleNode = _this.setHandleNode.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.setHandleContainerNode = _this.setHandleContainerNode.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.positionPercent = _this.positionPercent.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.invalidatePitStyleCache = _this.invalidatePitStyleCache.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.pitStyleCache = {};\n    return _this;\n  }\n\n  var _proto = Rheostat.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    // Note: This occurs in a timeout because styles need to be applied first\n    this.handleDimensionsTimeout = setTimeout(function () {\n      _this2.handleDimensionsTimeout = null;\n\n      _this2.setState({\n        handleDimensions: _this2.getHandleDimensions()\n      });\n    }, 0);\n  };\n\n  _proto.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var _this$props2 = this.props,\n        disabled = _this$props2.disabled,\n        min = _this$props2.min,\n        max = _this$props2.max,\n        orientation = _this$props2.orientation,\n        pitPoints = _this$props2.pitPoints,\n        algorithm = _this$props2.algorithm;\n    var _this$state = this.state,\n        values = _this$state.values,\n        slidingIndex = _this$state.slidingIndex;\n    var minMaxChanged = nextProps.min !== min || nextProps.max !== max;\n    var valuesChanged = values.length !== nextProps.values.length || values.some(function (value, idx) {\n      return nextProps.values[idx] !== value;\n    });\n    var orientationChanged = nextProps.orientation !== orientation;\n    var algorithmChanged = nextProps.algorithm !== algorithm;\n    var pitPointsChanged = nextProps.pitPoints !== pitPoints;\n    var willBeDisabled = nextProps.disabled && !disabled;\n    if (minMaxChanged || valuesChanged) this.updateNewValues(nextProps);\n\n    if (willBeDisabled && slidingIndex !== null) {\n      this.endSlide();\n    }\n\n    if (minMaxChanged || pitPointsChanged || orientationChanged || algorithmChanged) {\n      this.invalidatePitStyleCache();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.handleDimensionsTimeout) {\n      clearTimeout(this.handleDimensionsTimeout);\n      this.handleDimensionsTimeout = null;\n    }\n  };\n\n  _proto.getPublicState = function getPublicState() {\n    var values = this.state.values;\n    var _this$props3 = this.props,\n        min = _this$props3.min,\n        max = _this$props3.max;\n    return {\n      max: max,\n      min: min,\n      values: values\n    };\n  };\n\n  _proto.getSliderBoundingBox = function getSliderBoundingBox() {\n    if (!this.handleContainerNode) {\n      return null;\n    }\n\n    var rect = this.handleContainerNode.getBoundingClientRect();\n    return {\n      height: rect.height || this.handleContainerNode.clientHeight,\n      left: rect.left,\n      right: rect.right,\n      top: rect.top,\n      width: rect.width || this.handleContainerNode.clientWidth\n    };\n  };\n\n  _proto.getProgressStyle = function getProgressStyle(idx) {\n    var orientation = this.props.orientation;\n    var handlePos = this.state.handlePos;\n    var value = handlePos[idx];\n\n    if (idx === 0) {\n      return orientation === _SliderConstants.VERTICAL ? {\n        height: \"\".concat(value, \"%\"),\n        top: 0\n      } : {\n        left: 0,\n        width: \"\".concat(value, \"%\")\n      };\n    }\n\n    var prevValue = handlePos[idx - 1];\n    var diffValue = value - prevValue;\n    return orientation === _SliderConstants.VERTICAL ? {\n      height: \"\".concat(diffValue, \"%\"),\n      top: \"\".concat(prevValue, \"%\")\n    } : {\n      left: \"\".concat(prevValue, \"%\"),\n      width: \"\".concat(diffValue, \"%\")\n    };\n  };\n\n  _proto.getMinValue = function getMinValue(idx) {\n    var min = this.props.min;\n    var values = this.state.values;\n    return values[idx - 1] ? Math.max(min, values[idx - 1]) : min;\n  };\n\n  _proto.getMaxValue = function getMaxValue(idx) {\n    var max = this.props.max;\n    var values = this.state.values;\n    return values[idx + 1] ? Math.min(max, values[idx + 1]) : max;\n  };\n\n  _proto.getClosestSnapPoint = function getClosestSnapPoint(value) {\n    var snapPoints = this.props.snapPoints;\n    if (!snapPoints.length) return value;\n    return snapPoints.reduce(function (snapTo, snap) {\n      return Math.abs(snapTo - value) < Math.abs(snap - value) ? snapTo : snap;\n    });\n  };\n\n  _proto.getHandleDimensions = function getHandleDimensions() {\n    var orientation = this.props.orientation;\n    if (!this.handleNode) return 0;\n    return orientation === _SliderConstants.VERTICAL ? this.handleNode.clientHeight : this.handleNode.clientWidth;\n  };\n\n  _proto.getSnapPosition = function getSnapPosition(positionPercent) {\n    var _this$props4 = this.props,\n        algorithm = _this$props4.algorithm,\n        max = _this$props4.max,\n        min = _this$props4.min,\n        snap = _this$props4.snap;\n    if (!snap) return positionPercent;\n    var value = algorithm.getValue(positionPercent, min, max);\n    var snapValue = this.getClosestSnapPoint(value);\n    return algorithm.getPosition(snapValue, min, max);\n  };\n\n  _proto.getNextPositionForKey = function getNextPositionForKey(idx, keyCode) {\n    var _stepMultiplier;\n\n    var _this$state2 = this.state,\n        handlePos = _this$state2.handlePos,\n        values = _this$state2.values;\n    var _this$props5 = this.props,\n        algorithm = _this$props5.algorithm,\n        max = _this$props5.max,\n        min = _this$props5.min,\n        snapPoints = _this$props5.snapPoints,\n        shouldSnap = _this$props5.snap;\n    var proposedValue = values[idx];\n    var proposedPercentage = handlePos[idx];\n    var originalPercentage = proposedPercentage;\n    var stepValue = 1;\n\n    if (max >= 100) {\n      proposedPercentage = Math.round(proposedPercentage);\n    } else {\n      stepValue = 100 / (max - min);\n    }\n\n    var currentIndex = null;\n\n    if (shouldSnap) {\n      currentIndex = snapPoints.indexOf(this.getClosestSnapPoint(values[idx]));\n    }\n\n    var stepMultiplier = (_stepMultiplier = {}, (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.LEFT, function (v) {\n      return v * -1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.RIGHT, function (v) {\n      return v * 1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.UP, function (v) {\n      return v * 1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.DOWN, function (v) {\n      return v * -1;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.PAGE_DOWN, function (v) {\n      return v > 1 ? -v : v * -10;\n    }), (0, _defineProperty2[\"default\"])(_stepMultiplier, _SliderConstants.KEYS.PAGE_UP, function (v) {\n      return v > 1 ? v : v * 10;\n    }), _stepMultiplier);\n\n    if (has.call(stepMultiplier, keyCode)) {\n      proposedPercentage += stepMultiplier[keyCode](stepValue);\n\n      if (shouldSnap) {\n        if (proposedPercentage > originalPercentage) {\n          // move cursor right unless overflow\n          if (currentIndex < snapPoints.length - 1) {\n            proposedValue = snapPoints[currentIndex + 1];\n          } // move cursor left unless there is overflow\n\n        } else if (currentIndex > 0) {\n          proposedValue = snapPoints[currentIndex - 1];\n        }\n      }\n    } else if (keyCode === _SliderConstants.KEYS.HOME) {\n      proposedPercentage = _SliderConstants.PERCENT_EMPTY;\n\n      if (shouldSnap) {\n        var _snapPoints = (0, _slicedToArray2[\"default\"])(snapPoints, 1);\n\n        proposedValue = _snapPoints[0];\n      }\n    } else if (keyCode === _SliderConstants.KEYS.END) {\n      proposedPercentage = _SliderConstants.PERCENT_FULL;\n\n      if (shouldSnap) {\n        proposedValue = snapPoints[snapPoints.length - 1];\n      }\n    } else {\n      return null;\n    }\n\n    return shouldSnap ? algorithm.getPosition(proposedValue, min, max) : proposedPercentage;\n  };\n\n  _proto.getNextState = function getNextState(idx, proposedPosition) {\n    var handlePos = this.state.handlePos;\n    var _this$props6 = this.props,\n        max = _this$props6.max,\n        min = _this$props6.min,\n        algorithm = _this$props6.algorithm;\n    var actualPosition = this.validatePosition(idx, proposedPosition);\n    var nextHandlePos = handlePos.map(function (pos, index) {\n      return index === idx ? actualPosition : pos;\n    });\n    return {\n      handlePos: nextHandlePos,\n      values: nextHandlePos.map(function (pos) {\n        return algorithm.getValue(pos, min, max);\n      })\n    };\n  };\n\n  _proto.getClosestHandle = function getClosestHandle(positionPercent) {\n    var handlePos = this.state.handlePos;\n    return handlePos.reduce(function (closestIdx, node, idx) {\n      var challenger = Math.abs(handlePos[idx] - positionPercent);\n      var current = Math.abs(handlePos[closestIdx] - positionPercent);\n      return challenger < current ? idx : closestIdx;\n    }, 0);\n  };\n\n  _proto.setHandleNode = function setHandleNode(node) {\n    this.handleNode = node;\n  };\n\n  _proto.setHandleContainerNode = function setHandleContainerNode(node) {\n    this.handleContainerNode = node;\n  };\n\n  _proto.setStartSlide = function setStartSlide(ev) {\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    this.setState({\n      handleDimensions: this.getHandleDimensions(ev, sliderBox),\n      slidingIndex: getHandleFor(ev)\n    });\n  };\n\n  _proto.setRef = function setRef(ref) {\n    this.rheostat = ref;\n  };\n\n  _proto.startMouseSlide = function startMouseSlide(ev) {\n    var onSliderDragStart = this.props.onSliderDragStart;\n    this.setStartSlide(ev, ev.clientX, ev.clientY);\n\n    if (typeof document.addEventListener === 'function') {\n      document.addEventListener('mousemove', this.handleMouseSlide, false);\n      document.addEventListener('mouseup', this.endSlide, false);\n    } else {\n      document.attachEvent('onmousemove', this.handleMouseSlide);\n      document.attachEvent('onmouseup', this.endSlide);\n    }\n\n    if (onSliderDragStart) onSliderDragStart();\n    killEvent(ev);\n  };\n\n  _proto.startTouchSlide = function startTouchSlide(ev) {\n    var onSliderDragStart = this.props.onSliderDragStart;\n    if (ev.changedTouches.length > 1) return;\n    var touch = ev.changedTouches[0];\n    this.setStartSlide(ev, touch.clientX, touch.clientY);\n    document.addEventListener('touchmove', this.handleTouchSlide, false);\n    document.addEventListener('touchend', this.endSlide, false);\n    if (onSliderDragStart) onSliderDragStart();\n    killEvent(ev);\n  };\n\n  _proto.handleMouseSlide = function handleMouseSlide(ev) {\n    var slidingIndex = this.state.slidingIndex;\n    if (slidingIndex === null) return;\n    this.handleSlide(ev.clientX, ev.clientY);\n    killEvent(ev);\n  };\n\n  _proto.handleTouchSlide = function handleTouchSlide(ev) {\n    var slidingIndex = this.state.slidingIndex;\n    if (slidingIndex === null) return;\n\n    if (ev.changedTouches.length > 1) {\n      this.endSlide();\n      return;\n    }\n\n    var touch = ev.changedTouches[0];\n    this.handleSlide(touch.clientX, touch.clientY);\n    killEvent(ev);\n  };\n\n  _proto.positionPercent = function positionPercent(x, y, sliderBox) {\n    var _this$props7 = this.props,\n        orientation = _this$props7.orientation,\n        direction = _this$props7.direction;\n\n    if (orientation === _SliderConstants.VERTICAL) {\n      return (y - sliderBox.top) / sliderBox.height * _SliderConstants.PERCENT_FULL;\n    }\n\n    var horizontalPercentage = (x - sliderBox.left) / sliderBox.width * _SliderConstants.PERCENT_FULL;\n\n    if (direction === _reactWithDirection.DIRECTIONS.RTL) {\n      return 100 - horizontalPercentage;\n    }\n\n    return horizontalPercentage;\n  };\n\n  _proto.handleSlide = function handleSlide(x, y) {\n    var onSliderDragMove = this.props.onSliderDragMove;\n    var idx = this.state.slidingIndex;\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    var positionPercent = this.positionPercent(x, y, sliderBox);\n    this.slideTo(idx, positionPercent);\n\n    if (this.canMove(idx, positionPercent)) {\n      if (onSliderDragMove) onSliderDragMove();\n    }\n  };\n\n  _proto.endSlide = function endSlide() {\n    var _this3 = this;\n\n    var _this$props8 = this.props,\n        onSliderDragEnd = _this$props8.onSliderDragEnd,\n        snap = _this$props8.snap;\n    var _this$state3 = this.state,\n        slidingIndex = _this$state3.slidingIndex,\n        handlePos = _this$state3.handlePos;\n    this.setState({\n      slidingIndex: null\n    });\n\n    if (typeof document.removeEventListener === 'function') {\n      document.removeEventListener('mouseup', this.endSlide, false);\n      document.removeEventListener('touchend', this.endSlide, false);\n      document.removeEventListener('touchmove', this.handleTouchSlide, false);\n      document.removeEventListener('mousemove', this.handleMouseSlide, false);\n    } else {\n      document.detachEvent('onmousemove', this.handleMouseSlide);\n      document.detachEvent('onmouseup', this.endSlide);\n    }\n\n    if (onSliderDragEnd) onSliderDragEnd();\n\n    if (snap) {\n      var positionPercent = this.getSnapPosition(handlePos[slidingIndex]);\n      this.slideTo(slidingIndex, positionPercent, function () {\n        return _this3.fireChangeEvent();\n      });\n    } else {\n      this.fireChangeEvent();\n    }\n  };\n\n  _proto.handleClick = function handleClick(ev) {\n    var _this4 = this;\n\n    if (ev.target.getAttribute('data-handle-key')) {\n      return;\n    }\n\n    var _this$props9 = this.props,\n        onClick = _this$props9.onClick,\n        orientation = _this$props9.orientation; // Calculate the position of the slider on the page so we can determine\n    // the position where you click in relativity.\n\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return;\n    }\n\n    var positionDecimal = orientation === _SliderConstants.VERTICAL ? (ev.clientY - sliderBox.top) / sliderBox.height : (ev.clientX - sliderBox.left) / sliderBox.width;\n    var positionPercent = positionDecimal * _SliderConstants.PERCENT_FULL;\n    var handleId = this.getClosestHandle(positionPercent);\n    var validPositionPercent = this.getSnapPosition(positionPercent); // Move the handle there\n\n    this.slideTo(handleId, validPositionPercent, function () {\n      return _this4.fireChangeEvent();\n    });\n    if (onClick) onClick();\n  };\n\n  _proto.handleKeydown = function handleKeydown(ev) {\n    var _this5 = this;\n\n    var onKeyPress = this.props.onKeyPress;\n    var idx = getHandleFor(ev);\n\n    if (ev.keyCode === _SliderConstants.KEYS.ESC) {\n      ev.currentTarget.blur();\n      return;\n    }\n\n    var proposedPercentage = this.getNextPositionForKey(idx, ev.keyCode);\n    if (proposedPercentage === null) return;\n\n    if (this.canMove(idx, proposedPercentage)) {\n      this.slideTo(idx, proposedPercentage, function () {\n        return _this5.fireChangeEvent();\n      });\n      if (onKeyPress) onKeyPress();\n    }\n\n    killEvent(ev);\n  } // Apply user adjustments to position\n  ;\n\n  _proto.userAdjustPosition = function userAdjustPosition(idx, proposedPosition) {\n    var getNextHandlePosition = this.props.getNextHandlePosition;\n    var nextPosition = proposedPosition;\n\n    if (getNextHandlePosition) {\n      nextPosition = parseFloat(getNextHandlePosition(idx, proposedPosition));\n\n      if (Number.isNaN(nextPosition) || nextPosition < _SliderConstants.PERCENT_EMPTY || nextPosition > _SliderConstants.PERCENT_FULL) {\n        throw new TypeError('getNextHandlePosition returned invalid position. Valid positions are floats between 0 and 100');\n      }\n    }\n\n    return nextPosition;\n  } // Make sure the proposed position respects the bounds and\n  // does not collide with other handles too much.\n  ;\n\n  _proto.validatePosition = function validatePosition(idx, proposedPosition) {\n    var _this$state4 = this.state,\n        handlePos = _this$state4.handlePos,\n        handleDimensions = _this$state4.handleDimensions;\n    var nextPosition = this.userAdjustPosition(idx, proposedPosition);\n    var orientation = this.props.orientation;\n    var sliderBox = this.getSliderBoundingBox();\n    var handlePercentage = orientation === _SliderConstants.VERTICAL ? handleDimensions / sliderBox.height * _SliderConstants.PERCENT_FULL / 2 : handleDimensions / sliderBox.width * _SliderConstants.PERCENT_FULL / 2;\n    return Math.max(Math.min(nextPosition, handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handlePercentage : _SliderConstants.PERCENT_FULL // 100% is the highest value\n    ), handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handlePercentage : _SliderConstants.PERCENT_EMPTY // 0% is the lowest value\n    );\n  };\n\n  _proto.validateValues = function validateValues(proposedValues, props) {\n    var _ref = props || this.props,\n        max = _ref.max,\n        min = _ref.min;\n\n    return proposedValues.map(function (value, idx, values) {\n      var realValue = Math.max(Math.min(value, max), min);\n\n      if (values.length && realValue < values[idx - 1]) {\n        return values[idx - 1];\n      }\n\n      return realValue;\n    });\n  } // Can we move the slider to the given position?\n  ;\n\n  _proto.canMove = function canMove(idx, proposedPosition) {\n    var _this$state5 = this.state,\n        handlePos = _this$state5.handlePos,\n        handleDimensions = _this$state5.handleDimensions;\n    var orientation = this.props.orientation;\n    var sliderBox = this.getSliderBoundingBox();\n\n    if (!sliderBox) {\n      return false;\n    }\n\n    var handlePercentage = orientation === _SliderConstants.VERTICAL ? handleDimensions / sliderBox.height * _SliderConstants.PERCENT_FULL / 2 : handleDimensions / sliderBox.width * _SliderConstants.PERCENT_FULL / 2;\n    if (proposedPosition < _SliderConstants.PERCENT_EMPTY) return false;\n    if (proposedPosition > _SliderConstants.PERCENT_FULL) return false;\n    var nextHandlePosition = handlePos[idx + 1] !== undefined ? handlePos[idx + 1] - handlePercentage : Infinity;\n    if (proposedPosition > nextHandlePosition) return false;\n    var prevHandlePosition = handlePos[idx - 1] !== undefined ? handlePos[idx - 1] + handlePercentage : -Infinity;\n    if (proposedPosition < prevHandlePosition) return false;\n    return true;\n  };\n\n  _proto.fireChangeEvent = function fireChangeEvent() {\n    var onChange = this.props.onChange;\n    if (onChange) onChange(this.getPublicState());\n  };\n\n  _proto.slideTo = function slideTo(idx, proposedPosition, onAfterSet) {\n    var _this6 = this;\n\n    var onValuesUpdated = this.props.onValuesUpdated;\n    var nextState = this.getNextState(idx, proposedPosition);\n    this.setState(nextState, function () {\n      if (onValuesUpdated) onValuesUpdated(_this6.getPublicState());\n      if (onAfterSet) onAfterSet();\n    });\n  };\n\n  _proto.updateNewValues = function updateNewValues(nextProps) {\n    var slidingIndex = this.state.slidingIndex; // Don't update while the slider is sliding\n\n    if (slidingIndex !== null) {\n      return;\n    }\n\n    var algorithm = this.props.algorithm;\n    var max = nextProps.max,\n        min = nextProps.min,\n        values = nextProps.values;\n    var nextValues = this.validateValues(values, nextProps);\n    this.setState({\n      handlePos: nextValues.map(function (value) {\n        return algorithm.getPosition(value, min, max);\n      }),\n      values: nextValues\n    });\n  };\n\n  _proto.invalidatePitStyleCache = function invalidatePitStyleCache() {\n    this.pitStyleCache = {};\n  };\n\n  _proto.render = function render() {\n    var _this7 = this;\n\n    var _this$props10 = this.props,\n        css = _this$props10.css,\n        autoAdjustVerticalPosition = _this$props10.autoAdjustVerticalPosition,\n        algorithm = _this$props10.algorithm,\n        children = _this$props10.children,\n        disabled = _this$props10.disabled,\n        Handle = _this$props10.handle,\n        max = _this$props10.max,\n        min = _this$props10.min,\n        orientation = _this$props10.orientation,\n        PitComponent = _this$props10.pitComponent,\n        pitPoints = _this$props10.pitPoints,\n        Background = _this$props10.background,\n        ProgressBar = _this$props10.progressBar,\n        styles = _this$props10.styles;\n    var _this$state6 = this.state,\n        handlePos = _this$state6.handlePos,\n        values = _this$state6.values;\n    return (// eslint-disable-next-line jsx-a11y/click-events-have-key-events\n      _react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        onClick: disabled ? undefined : this.handleClick\n      }, css(styles.rheostat, autoAdjustVerticalPosition && styles.autoAdjustVerticalPosition, orientation === _SliderConstants.VERTICAL && styles.rheostat__vertical)), !!Background && _react[\"default\"].createElement(Background, {\n        orientation: orientation\n      }), _react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        ref: this.setHandleContainerNode\n      }, css(styles.handleContainer)), handlePos.map(function (pos, idx) {\n        var handleStyle = orientation === _SliderConstants.VERTICAL ? {\n          top: \"\".concat(pos, \"%\"),\n          position: 'absolute'\n        } : {\n          left: \"\".concat(pos, \"%\"),\n          position: 'absolute'\n        };\n        return _react[\"default\"].createElement(Handle, {\n          \"aria-valuemax\": _this7.getMaxValue(idx),\n          \"aria-valuemin\": _this7.getMinValue(idx),\n          \"aria-valuenow\": values[idx],\n          \"aria-disabled\": disabled,\n          \"data-handle-key\": idx,\n          key: idx\n          /* eslint-disable-line react/no-array-index-key */\n          ,\n          orientation: orientation,\n          disabled: disabled,\n          onClick: _this7.killEvent,\n          onKeyDown: disabled ? undefined : _this7.handleKeydown,\n          onMouseDown: disabled ? undefined : _this7.startMouseSlide,\n          onTouchStart: disabled ? undefined : _this7.startTouchSlide,\n          handleRef: _this7.setHandleNode,\n          role: \"slider\",\n          style: handleStyle,\n          tabIndex: 0\n        });\n      })), !!ProgressBar && handlePos.map(function (node, idx, arr) {\n        if (idx === 0 && arr.length > 1) {\n          return null;\n        }\n\n        return _react[\"default\"].createElement(ProgressBar, {\n          key: idx\n          /* eslint-disable-line react/no-array-index-key */\n          ,\n          style: _this7.getProgressStyle(idx),\n          disabled: disabled\n        });\n      }), PitComponent && pitPoints.map(function (n) {\n        var pitStyle = _this7.pitStyleCache[n];\n\n        if (!pitStyle) {\n          var pos = algorithm.getPosition(n, min, max);\n          pitStyle = orientation === 'vertical' ? {\n            top: \"\".concat(pos, \"%\"),\n            position: 'absolute'\n          } : {\n            left: \"\".concat(pos, \"%\"),\n            position: 'absolute'\n          };\n          _this7.pitStyleCache[n] = pitStyle;\n        }\n\n        return _react[\"default\"].createElement(PitComponent, {\n          key: n,\n          style: pitStyle\n        }, n);\n      }), children)\n    );\n  };\n\n  return Rheostat;\n}(_react[\"default\"].Component);\n\nRheostat.propTypes = propTypes;\nRheostat.defaultProps = defaultProps;\n\nvar _default = (0, _reactWithDirection[\"default\"])((0, _reactWithStyles.withStyles)(function (_ref2) {\n  var _ref2$rheostat = _ref2.rheostat,\n      color = _ref2$rheostat.color,\n      unit = _ref2$rheostat.unit,\n      responsive = _ref2$rheostat.responsive;\n  return {\n    rheostat: {\n      position: 'relative',\n      overflow: 'visible'\n    },\n    autoAdjustVerticalPosition: (0, _defineProperty2[\"default\"])({}, responsive.largeAndAbove, {\n      top: 1.5 * unit\n    }),\n    rheostat__vertical: {\n      height: '100%'\n    },\n    handleContainer: {\n      height: 2 * unit - 1,\n      top: -2,\n      left: -2,\n      bottom: 4,\n      width: '100%',\n      position: 'absolute'\n    },\n    rheostat_background: {\n      backgroundColor: color.white,\n      border: \"1px solid \".concat(color.grey),\n      position: 'relative'\n    },\n    rheostat_background__horizontal: {\n      height: 2 * unit - 1,\n      top: -2,\n      left: -2,\n      bottom: 4,\n      width: '100%'\n    },\n    rheostat_background__vertical: {\n      width: 2 * unit - 1,\n      top: 0,\n      height: '100%'\n    }\n  };\n})(Rheostat));\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}